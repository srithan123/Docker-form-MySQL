<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel Booking Form</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="header">
                <h1><i class="fas fa-suitcase"></i> Travel Booking</h1>
                <p>Plan your next adventure with us</p>
            </div>
            
            <div class="form-container">
                <form id="bookingForm">
                    <div class="form-group">
                        <label for="name">Full Name</label>
                        <div class="input-wrapper">
                            <i class="fas fa-user"></i>
                            <input type="text" id="name" class="form-control" placeholder="Enter your full name" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <div class="input-wrapper">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="email" class="form-control" placeholder="your.email@example.com" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <div class="input-wrapper">
                            <i class="fas fa-phone"></i>
                            <input type="tel" id="phone" class="form-control" placeholder="(123) 456-7890" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="destination">Destination</label>
                        <div class="input-wrapper">
                            <i class="fas fa-map-marker-alt"></i>
                            <select id="destination" class="form-control" required>
                                <option value="">Select a destination</option>
                                <option value="paris">Paris, France</option>
                                <option value="bali">Bali, Indonesia</option>
                                <option value="tokyo">Tokyo, Japan</option>
                                <option value="new-york">New York, USA</option>
                                <option value="santorini">Santorini, Greece</option>
                                <option value="machu-picchu">Machu Picchu, Peru</option>
                                <option value="sydney">Sydney, Australia</option>
                                <option value="banff">Banff, Canada</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="date-group">
                        <div class="form-group">
                            <label for="startDate">Start Date</label>
                            <div class="input-wrapper">
                                <i class="fas fa-calendar-alt"></i>
                                <input type="date" id="startDate" class="form-control" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="endDate">End Date</label>
                            <div class="input-wrapper">
                                <i class="fas fa-calendar-check"></i>
                                <input type="date" id="endDate" class="form-control" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="travelers">Number of Travelers</label>
                        <div class="input-wrapper">
                            <i class="fas fa-users"></i>
                            <select id="travelers" class="form-control" required>
                                <option value="">Select number</option>
                                <option value="1">1 Traveler</option>
                                <option value="2">2 Travelers</option>
                                <option value="3">3 Travelers</option>
                                <option value="4">4 Travelers</option>
                                <option value="5">5 Travelers</option>
                                <option value="6">6+ Travelers</option>
                            </select>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn">
                        <i class="fas fa-paper-plane"></i>
                        Book My Trip
                    </button>
                </form>
            </div>
            
            <div class="footer">
                <p>We'll contact you within 24 hours to confirm your booking</p>
            </div>
        </div>
    </div>

    <script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('bookingForm');

    // Set minimum date to today
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('startDate').min = today;
    document.getElementById('endDate').min = today;

    document.getElementById('startDate').addEventListener('change', function() {
        const startDate = this.value;
        const endDateInput = document.getElementById('endDate');

        if (startDate) {
            endDateInput.min = startDate;
            if (endDateInput.value && endDateInput.value < startDate) {
                endDateInput.value = startDate;
            }
        }
    });

    form.addEventListener('submit', async function(e) {
        e.preventDefault();

        const data = {
            name: document.getElementById('name').value,
            email: document.getElementById('email').value,
            phone: document.getElementById('phone').value,
            destination: document.getElementById('destination').value,
            start_date: document.getElementById('startDate').value,
            end_date: document.getElementById('endDate').value,
            travelers: document.getElementById('travelers').value
        };

        // Simple validation
        if (Object.values(data).every(v => v)) {
            try {
                const response = await fetch('http://localhost:5000/book', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });

                const result = await response.json();
                alert(result.message);
                form.reset();
            } catch (err) {
                alert('Error connecting to server. Please try again later.');
                console.error(err);
            }
        } else {
            alert('Please fill in all fields.');
        }
    });
});
</script>
</body>
</html>